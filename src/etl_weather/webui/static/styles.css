*{box-sizing:border-box}:root{--bg:#f7fafc;--panel:#ffffff;--text:#1f2937;--muted:#6b7280;--primary:#2563eb;--primary-600:#1d4ed8;--border:#e5e7eb;--chip:#f3f4f6;--good:#10b981;--warn:#f59e0b;--bad:#ef4444}
body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;padding:0;background:linear-gradient(180deg,#eef2ff,transparent 200px),var(--bg);color:var(--text)}
header,section,footer{max-width:1100px;margin:16px auto;padding:0 16px}
.appbar{background:linear-gradient(90deg,#1e293b,#0f172a);color:#fff;box-shadow:0 2px 6px rgba(0,0,0,.12);border-bottom:1px solid rgba(255,255,255,.05)}
.appbar-inner{max-width:1100px;margin:0 auto;padding:14px 18px;display:flex;align-items:center;justify-content:space-between;gap:20px}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:40px;height:40px;border-radius:10px;display:grid;place-items:center;background:linear-gradient(135deg,rgba(255,255,255,.08),rgba(255,255,255,.02));box-shadow:0 2px 8px rgba(0,0,0,.2)}
.titles h1{margin:0;font-size:1.15rem;letter-spacing:0.3px;font-weight:600}
.subtitle{margin:0;color:rgba(255,255,255,.82);font-size:.88rem}
.nav{display:flex;gap:4px}
.nav a{color:rgba(255,255,255,.85);text-decoration:none;padding:8px 14px;border-radius:8px;transition:all .2s;font-size:.92rem}
.nav a:hover{background:rgba(255,255,255,.1);color:#fff}

/* Search Section - Now below header */
.search-section {
    max-width: 1100px;
    margin: -8px auto 20px;
    padding: 0 16px;
}

.search-card {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 16px rgba(0,0,0,.08);
    padding: 20px;
    border: 1px solid rgba(0,0,0,.06);
}

.search-tabs {
    display: flex;
    gap: 6px;
    padding: 4px;
    background: #f3f4f6;
    border-radius: 10px;
    margin-bottom: 16px;
}

.search-tab {
    flex: 1;
    padding: 8px 16px;
    text-align: center;
    cursor: pointer;
    border-radius: 8px;
    font-size: 0.9rem;
    color: var(--muted);
    transition: all 0.2s ease;
    font-weight: 500;
}

.search-tab:hover {
    background: rgba(255,255,255,.7);
}

.search-tab.active {
    background: white;
    color: var(--primary);
    box-shadow: 0 2px 6px rgba(0,0,0,.06);
}

.search-panels {
    position: relative;
}

.search-panel {
    display: none;
}

.search-panel.active {
    display: block;
}

.search-group, .region-group {
    display: flex;
    gap: 10px;
    align-items: center;
}

.search-input-wrapper {
    position: relative;
    flex: 1;
}

.search-icon {
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    font-style: normal;
    color: var(--muted);
}

.search-input {
    width: 100%;
    padding: 12px 14px 12px 40px;
    border: 2px solid var(--border);
    border-radius: 10px;
    font-size: 1rem;
    color: var(--text);
    background: white;
    transition: all 0.2s ease;
}

.search-input::placeholder {
    color: var(--muted);
}

.search-input:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(37,99,235,0.1);
    outline: none;
}

.search-button {
    padding: 12px 24px;
    border: none;
    background: var(--primary);
    color: white;
    border-radius: 10px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
    font-weight: 500;
}

.search-button:hover {
    background: var(--primary-600);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(37,99,235,.25);
}

.select-wrapper {
    position: relative;
    flex: 1;
}

.select-wrapper::after {
    content: "â–¼";
    font-size: 0.7rem;
    color: var(--muted);
    position: absolute;
    right: 14px;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    transition: color 0.2s ease;
}

.select-wrapper:has(select:focus)::after {
    color: var(--primary);
}

.select-wrapper:has(select:disabled)::after {
    color: #d1d5db;
}

.region-select, .province-select, .regency-select {
    width: 100%;
    padding: 12px 36px 12px 14px;
    border: 2px solid var(--border);
    border-radius: 10px;
    font-size: 1rem;
    color: var(--text);
    background: white;
    cursor: pointer;
    appearance: none;
    transition: all 0.2s ease;
}

.region-select:focus, .province-select:focus, .regency-select:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(37,99,235,0.1);
    outline: none;
}

.region-select:disabled, .province-select:disabled, .regency-select:disabled {
    background: #f9fafb;
    cursor: not-allowed;
    opacity: 0.6;
    color: var(--muted);
}

.region-select:hover:not(:disabled), .province-select:hover:not(:disabled), .regency-select:hover:not(:disabled) {
    border-color: #d1d5db;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

.search-results{
    display:none;
    margin-top:12px;
    background:#fff;
    border-radius:10px;
    box-shadow:0 4px 12px rgba(0,0,0,.08);
    max-height:300px;
    overflow:auto;
    padding:6px;
    border:1px solid var(--border);
}
.search-results.open{
    display:block;
    animation:dropIn 0.2s ease;
}
.search-results li{
    padding:12px 14px;
    border-radius:8px;
    margin:4px 0;
    cursor:pointer;
    transition:all .15s;
    background:#fff;
}
.search-results li:hover{
    background:#f8fafc;
    transform:translateX(2px);
}
.search-results li.active{
    background:linear-gradient(135deg,#eff6ff,#dbeafe);
    border-left:3px solid var(--primary);
}
.highlight{
    background:#dbeafe;
    color:#1e40af;
    padding:0 .25rem;
    border-radius:3px;
    font-weight:500;
}

@keyframes dropIn {
    from { opacity: 0; transform: translateY(-4px); }
    to { opacity: 1; transform: translateY(0); }
}
#search{display:none}
#search{display:flex;gap:.5rem;align-items:flex-start;flex-wrap:wrap}
#q,#cmp-input{padding:.7rem .9rem;border:1px solid var(--border);border-radius:999px;min-width:320px;background:#fff}
button{padding:.6rem 1rem;border:1px solid var(--primary);background:var(--primary);color:#fff;border-radius:999px;cursor:pointer;box-shadow:0 1px 2px rgba(0,0,0,.06)}
button:hover{background:var(--primary-600)}
a{color:var(--primary);text-decoration:none}
a:hover{text-decoration:underline}
/* search results are styled via .search-results */
section.hidden{display:none}
.buttons{display:flex;gap:.5rem;align-items:center;margin-top:.5rem}
.panel{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:14px;box-shadow:0 1px 3px rgba(0,0,0,.04)}
table{width:100%;border-collapse:collapse;margin-top:.5rem;background:#fff;border-radius:10px;overflow:hidden}
table th,table td{border:1px solid #f3f4f6;padding:.55rem .6rem;text-align:left}
table th{background:#f6f8fa}
.daily-stats {
    display: flex;
    gap: 20px;
    padding: 16px;
    background: white;
    border-radius: 12px;
    border: 1px solid var(--border);
    margin: 1rem 0;
    justify-content: space-around;
    flex-wrap: wrap;
}

.daily-stat-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 16px;
    background: var(--chip);
    border-radius: 10px;
    border: 1px solid var(--border);
}

.daily-stat-item .icon {
    font-size: 1.5rem;
    color: var(--primary);
}

.daily-stat-item .label {
    font-size: 0.9rem;
    color: var(--muted);
}

.daily-stat-item .value {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text);
}

/* Specific stat colors */
.daily-stat-item.temp {
    background: #eef2ff;
    border-color: #c7d2fe;
}

.daily-stat-item.pm25 {
    background: #f0fdf4;
    border-color: #bbf7d0;
}

.daily-stat-item.hot {
    background: #fff7ed;
    border-color: #fed7aa;
}
.charts{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px;margin:.6rem 0}
.chart{background:#fff;border:1px solid var(--border);border-radius:14px;padding:8px;box-shadow:0 1px 3px rgba(0,0,0,.04)}
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px;margin:.5rem 0}
.card{background:#fff;border:1px solid var(--border);border-radius:14px;padding:12px;box-shadow:0 2px 6px rgba(0,0,0,.06)}
.card h3{margin:.2rem 0 .4rem 0;font-size:1.1rem}
.temp-big{font-size:1.4rem;font-weight:700}
.muted{color:var(--muted)}
.badges{display:flex;gap:6px;flex-wrap:wrap;margin-top:.25rem}
.badge{font-size:.8rem;border-radius:999px;padding:.18rem .6rem;border:1px solid var(--border);background:var(--chip)}
.badge.good{background:#ecfdf5;color:#065f46;border-color:#a7f3d0}
.badge.warn{background:#fff7ed;color:#92400e;border-color:#fed7aa}
.badge.bad{background:#fef2f2;color:#991b1b;border-color:#fecaca}
.pills{display:flex;gap:8px;flex-wrap:wrap;margin:.5rem 0}
.pill{border-radius:999px;padding:.35rem .8rem;background:var(--chip);border:1px solid var(--border)}
.fun-fact{margin-top:0.8rem;padding:0.8rem;background:#e0f7fa;border-radius:8px;border:1px solid #b2ebf2}
.fun-fact.hidden{display:none}
/* AI status pill near fun fact */
.ai-status{display:inline-flex;align-items:center;gap:8px;font-size:.85rem;padding:.18rem .5rem;border-radius:999px;border:1px solid rgba(0,0,0,.06);background:#fff;color:var(--muted)}
.ai-status.ok{background:#ecfdf5;color:#065f46;border-color:#a7f3d0}
.ai-status.warn{background:#fff7ed;color:#92400e;border-color:#fed7aa}
.ai-status.bad{background:#fff1f2;color:#9f1239;border-color:#fecaca}
.ai-status .dot{width:10px;height:10px;border-radius:50%;display:inline-block}
.ai-status .dot.ok{background:#10b981}
.ai-status .dot.warn{background:#f59e0b}
.ai-status .dot.bad{background:#ef4444}
details summary{cursor:pointer;color:var(--primary);margin-top:.5rem}
.footer {
    background: linear-gradient(180deg, transparent, rgba(226, 232, 240, 0.3));
    padding: 24px 0;
    margin-top: 48px;
    text-align: center;
    border-top: 1px solid var(--border);
}

.footer-content {
    max-width: 1100px;
    margin: 0 auto;
    padding: 0 16px;
}

.footer-text {
    font-size: 0.95rem;
    color: var(--muted);
    margin: 0 0 8px 0;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    gap: 8px;
}

.footer-item {
    display: inline-flex;
    align-items: center;
}

.footer-divider {
    color: #cbd5e1;
    font-weight: 300;
}

.footer-item a {
    color: var(--primary);
    text-decoration: none;
    transition: color 0.2s ease;
    margin-left: 4px;
}

.footer-item a:hover {
    color: var(--primary-600);
    text-decoration: underline;
}

.footer-copyright {
    font-size: 0.85rem;
    color: #94a3b8;
    margin: 8px 0 0 0;
}

/* Today section */
.today-hero{display:flex;gap:16px;align-items:center;background:#fff;border:1px solid var(--border);border-radius:14px;padding:16px;box-shadow:0 2px 6px rgba(0,0,0,.06)}
.today-hero .icon{font-size:2rem}
.today-hero .icon svg{width:44px;height:44px}
.today-hero .temp-big{font-size:2.2rem;font-weight:800}
.today-hero .muted{color:var(--muted)}
.today-details{margin-top:12px;display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px}
.today-details .tile{background:#fff;border:1px solid var(--border);border-radius:12px;padding:10px}

/* Today mini strip: next few hours */
.today-mini{margin-top:10px;display:flex;gap:8px;overflow-x:auto;padding-bottom:6px}
.today-mini .mini-item{min-width:90px;text-align:center;background:#fff;border:1px solid var(--border);border-radius:10px;padding:8px;box-shadow:0 1px 2px rgba(0,0,0,.04)}
.today-mini .mini-item .t{color:var(--muted);font-weight:600}
.today-mini .mini-item .w{font-size:1.2rem;line-height:1.2}
.today-mini .mini-item .v{font-weight:700}
.today-mini .mini-item .r{color:var(--muted);font-size:.9rem;display:flex;gap:4px;justify-content:center;align-items:center;margin-top:4px}

/* Hourly compact strip (weather.com-like) */
/* Hourly vertical list */
.hourly-list{display:flex;flex-direction:column;gap:10px;align-items:center}
.hourly-date{margin-top:6px;color:var(--muted);font-weight:600;padding:4px 2px}
.hourly-row{background:#fff;border:1px solid var(--border);border-radius:12px;padding:12px;box-shadow:0 1px 2px rgba(0,0,0,.04);max-width:860px;width:100%;display:grid;grid-template-columns:64px 64px minmax(180px,1fr) 90px 90px 140px;gap:12px;align-items:center}
.hourly-row .col{display:flex;align-items:center;gap:8px}
.hourly-row .col.time{color:var(--muted);font-weight:600}
.hourly-row .col.temp{font-size:1.1rem;font-weight:700}
.hourly-row .col.icon-text .icon{font-size:1.3rem;width:28px;text-align:center}
.hourly-row .col.rain,.hourly-row .col.humidity,.hourly-row .col.wind{color:var(--muted)}
.hourly-row .col.wind .arrow{font-size:1rem}
@media (max-width:680px){
	.hourly-row{grid-template-columns:60px 60px 1fr}
	.hourly-row .col.rain,.hourly-row .col.humidity,.hourly-row .col.wind{grid-column:1 / -1}
	
	.appbar-inner{padding:12px 14px}
	.subtitle{font-size:0.82rem}
	.nav a{padding:6px 10px;font-size:0.88rem}
	
	.search-section{margin-top:0}
	.search-card{padding:16px}
	.search-group{flex-direction:column}
	.search-button{width:100%;padding:11px}
	.region-group{flex-direction:column}
}

/* Icon base */
.with-icon{display:inline-flex;align-items:center;gap:6px}
.i{display:inline-block;stroke:currentColor;fill:none}
.today-hero .temp-big .i{width:22px;height:22px}
.hourly-row .icon.weather .i{width:28px;height:28px}

/* Compare UI tweaks */
.compare-controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-bottom:8px}
.compare-controls input#cmp-input{flex:1;min-width:260px;padding:.6rem .9rem;border-radius:999px;border:1px solid var(--border);background:#fff}
.compare-controls button{padding:.5rem .9rem;border-radius:999px}
.compare-explanation{margin-top:8px;padding:10px 12px;background:#fff;border:1px solid var(--border);border-radius:10px;color:var(--text)}
.compare-meta{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-bottom:8px}
.compare-meta .muted{color:var(--muted)}
.pill{margin:4px 6px 4px 0}

/* make charts visually less dense */
.chart{padding:12px}